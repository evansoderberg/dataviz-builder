(this["webpackJsonpdataviz-builder"]=this["webpackJsonpdataviz-builder"]||[]).push([[0],{35:function(e,t,n){e.exports=n(47)},40:function(e,t,n){},41:function(e,t,n){},47:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(10),l=n.n(c),o=(n(40),n(12)),i=(n(41),n(24)),u=n.n(i),s=n(1),m={header:!0,dynamicTyping:!0,skipEmptyLines:!0},d=function(){var e=Object(s.b)();return r.a.createElement("div",{className:"container"},r.a.createElement(u.a,{cssClass:"react-csv-input",label:"Select CSV with header",onFileLoaded:function(t){var n=function(e){var t=e.data;e.errors,e.meta;return t}(t),a=Object.keys(n[0]);e({type:"SET_X_AXIS",value:a[0]}),e({type:"SET_Y_AXIS",value:a[1]}),e({type:"SET_CLEANED_DATA",value:n})},parserOptions:m}),r.a.createElement("p",null,"and then open the console"))},f=function(){var e=Object(s.c)((function(e){return e.xAxis})),t=Object(s.c)((function(e){return e.yAxis})),n=Object(s.b)(),a=Object(s.c)((function(e){return e.cleanedData}));if(console.log("xAxis",e),console.log("yAxis",t),!a||!a.length)return null;var c=Object.keys(a[0]);console.log("dataKeys",c);return r.a.createElement("div",null,r.a.createElement("label",null,"X Axis:",r.a.createElement("select",{value:e,onChange:function(e){n({type:"SET_X_AXIS",value:e.target.value})}},c.map((function(e){return r.a.createElement("option",{key:"x-".concat(e),value:e},e)})))),r.a.createElement("br",null),r.a.createElement("label",null,"Y Axis:",r.a.createElement("select",{value:t,onChange:function(e){n({type:"SET_Y_AXIS",value:e.target.value})}},c.map((function(e){return r.a.createElement("option",{key:"y-".concat(e),value:e},e)})))))},v=n(3),b=function(){var e=Object(s.c)((function(e){return e.cleanedData})),t=Object(s.c)((function(e){return e.xAxis}));e&&(e=e.map((function(e){return e[t]})));var n=Object(a.useRef)();return Object(a.useEffect)((function(){if(e){var t=Object(v.g)(n.current),a=Object(v.e)().domain(e.map((function(e,t){return t}))).range([0,300]).padding(.5),r=Object(v.f)().domain([Object(v.d)(e),Object(v.c)(e)]).range([150,0]),c=Object(v.f)().domain([75,100,150]).range(["green","orange","red"]).clamp(!0),l=Object(v.a)(a).ticks(e.length);t.select(".x-axis").style("transform","translateY(150px)").call(l);var o=Object(v.b)(r);t.select(".y-axis").style("transform","translateX(300px)").call(o),t.selectAll(".bar").data(e).join("rect").attr("class","bar").style("transform","scale(1, -1)").attr("x",(function(e,t){return a(t)})).attr("y",-150).attr("width",a.bandwidth()).on("mouseenter",(function(e,n){t.selectAll(".tooltip").data([e]).join((function(t){return t.append("text").attr("y",r(e)-4)})).attr("class","tooltip").text(e).attr("x",a(n)+a.bandwidth()/2).attr("text-anchor","middle").transition().attr("y",r(e)-8).attr("opacity",1)})).on("mouseleave",(function(){return t.select(".tooltip").remove()})).transition().attr("fill",c).attr("height",(function(e){return 150-r(e)}))}}),[e]),r.a.createElement(r.a.Fragment,null,r.a.createElement("svg",{ref:n},r.a.createElement("g",{className:"x-axis"}),r.a.createElement("g",{className:"y-axis"})))},p=n(11),E=Object(p.b)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{xAxis:null,yAxis:null},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_X_AXIS":return Object(o.a)({},e,{xAxis:t.value});case"SET_Y_AXIS":return Object(o.a)({},e,{yAxis:t.value});case"SET_CLEANED_DATA":return Object(o.a)({},e,{cleanedData:t.value});default:return e}})),x=function(){return r.a.createElement(s.a,{store:E},r.a.createElement("div",{className:"App"},r.a.createElement(d,null),r.a.createElement(f,null),r.a.createElement(b,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(x,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[35,1,2]]]);
//# sourceMappingURL=main.d648b9e1.chunk.js.map